@page "{artworkId:int}"
@*- Trang này là trang hiển thị các order của 1 artwork dựa trên artwork id.
  - Muốn hiển thị các order của artwork nào thì goi trang này thông qua url: Creators/ArtworkOrdersList/artworkId,
  với artworkId là id của artwork cần lấy các order. Ví dụ: muốn lấy thông tin các order của artwork có id là 1 thì gọi Creators/ArtworkOrdersList/1
*@
@model ArtworkOrdersListModel
@{
    var orders = Model.Orders;
    var role = HttpContext.Session.GetString("Role");
}
@if (!string.IsNullOrEmpty(role) && (role.Equals("Admin") || role.Equals("Creator")))
{
    <section class="banner-area relative" id="home">
        <div class="overlay overlay-bg"></div>
        <div class="container">
            <div class="row fullscreen d-flex align-items-center justify-content-center">
                <div class="banner-content col-lg-8">
                    <h1 class="text-white">
                        All Orders Of Artwork
                    </h1>

                    <br />
                    <table class="table table-striped table-bordered">
                        <thead class="thead-dark, font-weight-bold, text">
                            <tr>
                                <td></td>
                                <td>Order Id</td>
                                <td>Customer Id</td>
                                <td>Total Price</td>
                                <td>Order Date</td>
                            </tr>
                        </thead>
                        <tbody class="green-text">
                            @{
                                int i = 0;
                                foreach (var order in orders)
                                {
                                    i++;
                                    <tr>
                                        <td>@i</td>
                                        <td>@order.OrderId</td>
                                        <td>@order.CustomerId</td>
                                        <td>@order.TotalPrice</td>
                                        <td>@order.OrderDate</td>
                                        <td><a href="~/OrderDetail/@order.OrderId">Go to order details</a></td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                    <div class="pagination">
                        @{
                            var artId = Model.ArtId;
                        }
                        @for (int k = 1; k <= Math.Ceiling((double)Model.Total / Model.Size); k++)

                        {
                            <a class="page-link" href="../ArtworkOrdersList/@artId?page=@k">@k</a>
                        }
                    </div>
                </div>

            </div>

        </div>

    </section>
    <style>
        .green-text {
        color: darkseagreen;
        font-weight: bold;
        font-size: 15px;
        }

        .text {
        color: deeppink;
        font-size: 20px;
        }
    </style>
}
else
{
    <h1>Unauthorized</h1>
}